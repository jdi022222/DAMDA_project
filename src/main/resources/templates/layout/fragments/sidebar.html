<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <th:block th:fragment="sidebarFragment">
        <!-- Sidebar -->
        <aside class="main-sidebar col-12 col-md-3 col-lg-2 px-0">
            <div class="main-navbar">
                <nav class="navbar align-items-stretch navbar-light bg-white flex-md-nowrap border-bottom p-0">
                    <a class="navbar-brand w-100 mr-0" href="#" style="line-height: 25px;">
                        <div class="d-table m-auto">
                            <img id="main-logo" class="d-inline-block align-top mr-1" style="max-width: 25px;" th:src="@{/images/shards-dashboards-logo.svg}" alt="Shards Dashboard">
                            <span class="d-none d-md-inline ml-1">DAMDA</span>
                        </div>
                    </a>
                    <a class="toggle-sidebar d-sm-inline d-md-none d-lg-none">
                        <i class="material-icons">&#xE5C4;</i>
                    </a>
                </nav>
            </div>
            <div class="nav-wrapper">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/spot/show}">
                            <i class="material-icons">vertical_split</i>

                            <span>여행지 탐색</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " th:href="@{/travel/design/plan/list}">
                            <i class="material-icons">edit</i>
                            <span>내 여행 계획</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " th:href="@{/travel/design/new}">
                            <i class="material-icons">edit</i>
                            <span>여행 계획 세우기</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " th:href="@{/user/my_page}" th:if="${#authentication.principal.method.equals('d')}">
                            <i class="material-icons">person</i>
                            <span>마이페이지</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " th:href="@{/user/my_page_social}" th:if="!${#authentication.principal.method.equals('d')}">
                            <i class="material-icons">person</i>
                            <span>마이페이지</span>
                        </a>
                    </li>
                </ul>
            </div>
        </aside>
        <!-- End Main Sidebar -->
        <main class="main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3">
            <div class="main-navbar sticky-top bg-white">
                <!-- Main Navbar -->
                <nav class="navbar align-items-stretch navbar-light flex-md-nowrap p-0">
                    <!-- 검색창 -->
                    <form action="#" class="main-navbar__search w-100 d-none d-md-flex d-lg-flex">
                        <div class="input-group input-group-seamless ml-3">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <i class="fas fa-search"></i>
                                </div>
                            </div>
                            <input class="navbar-search form-control" type="text" placeholder="Search for something..." aria-label="Search"> </div>
                    </form>
                    <ul class="navbar-nav border-left flex-row ">
                        <li class="nav-item border-right dropdown notifications">
                            <a class="nav-link nav-link-icon text-center" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <div class="nav-link-icon__wrapper">
                                    <i class="material-icons">&#xE7F4;</i>
                                    <span class="badge badge-pill badge-danger">2</span>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-small" aria-labelledby="dropdownMenuLink">
                                <a class="dropdown-item" href="#">
                                    <div class="notification__icon-wrapper">
                                        <div class="notification__icon">
                                            <i class="material-icons">&#xE6E1;</i>
                                        </div>
                                    </div>
                                    <div class="notification__content">
                                        <span class="notification__category">Analytics</span>
                                        <p>Your website’s active users count increased by
                                            <span class="text-success text-semibold">28%</span> in the last week. Great job!</p>
                                    </div>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <div class="notification__icon-wrapper">
                                        <div class="notification__icon">
                                            <i class="material-icons">&#xE8D1;</i>
                                        </div>
                                    </div>
                                    <div class="notification__content">
                                        <span class="notification__category">Sales</span>
                                        <p>Last week your store’s sales count decreased by
                                            <span class="text-danger text-semibold">5.52%</span>. It could have been worse!</p>
                                    </div>
                                </a>
                                <a class="dropdown-item notification__all text-center" href="#"> View all Notifications </a>
                            </div>
                        </li>
                        <!-- 비로그인 렌더링-->
                        <li class="p-2" sec:authorize="isAnonymous()">
                            <a class="nav-link text-nowrap px-3" th:href="@{/user/login}" role="button">
                                <span class="d-none d-md-inline-block">Login</span>
                            </a>
                        </li>
                        <!-- 로그인 렌더링-->
                        <li class="nav-item dropdown p-2" sec:authorize="isAuthenticated()">
                            <a class="nav-link dropdown-toggle text-nowrap px-3" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                                <i class="material-icons account_circle">&#xe853;</i>
                                <span class="d-none d-md-inline-block" th:text="${#authentication.principal.nickname}"></span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-small">
<!--                                <a class="dropdown-item" href="user-profile-lite.html">-->
<!--                                    <i class="material-icons">&#xE7FD;</i> Profile</a>-->
<!--                                <a class="dropdown-item" href="components-blog-posts.html">-->
<!--                                    <i class="material-icons">vertical_split</i> Blog Posts</a>-->
<!--                                <a class="dropdown-item" href="add-new-post.html">-->
<!--                                    <i class="material-icons">note_add</i> Add New Post</a>-->
<!--                                <div class="dropdown-divider"></div>-->
                                <a class="dropdown-item text-danger" th:href="@{/user/logout}">
                                    <i class="material-icons text-danger">&#xE879;</i> Logout </a>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>
    </th:block>
</html>