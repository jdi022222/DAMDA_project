<html layout:decorate="~{layout/layout}">
<div layout:fragment="content">

    <div class="container mt-2 w-100 h-100">
        <div class="justify-content-between d-flex mb-2">
            <h1 th:text="${plan.title}"></h1>
            <div class="d-flex w-25">
                <a class="w-50 h-100 btn btn-info mr-2"
                   th:href="@{|/travel/design/modification/${plan.id}?order=1|}">수정
                </a>
                <a class="w-50 h-100 btn btn-danger" onclick="if(!confirm('정말로 삭제하시겠습니까?')) return false;"
                   th:href="@{|/travel/design/plan/delete/${plan.id}|}">삭제
                </a>
            </div>
        </div>
        <div class="w-100 h-25 d-flex mb-2 justify-content-start overflow-scroll" style="white-space: nowrap;">
            <div class="card card py-3 px-5" th:each="courses : ${plan.courseList}">
                <a th:if="${courses.id != course.id}"
                   th:href="@{|/travel/design/plan/detail/${plan.id}?order=${courses.orders}|}"
                   th:text="|${courses.orders}일차|"></a>
                <a class="font-weight-bold" th:if="${courses.id == course.id}" th:text="|${courses.orders}일차|"></a>
            </div>
        </div>
        <div class="d-flex">
            <div class="card card" style="width:35%; height:70%;">
                여행지 코스 상세 정보
            </div>
            <div class="card card" style="width:65%; height: 70%;">
                <div id="map" style="width:100%;height:350px;"></div>

                <script type="text/javascript"
                        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3398f87064ef2d4f364684990589c167&libraries=services"></script>
                <script>
                    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
                        mapOption = {
                            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                            level: 3 // 지도의 확대 레벨
                        };

                    // 지도를 생성합니다
                    var map = new kakao.maps.Map(mapContainer, mapOption);

                    // 주소-좌표 변환 객체를 생성합니다
                    var geocoder = new kakao.maps.services.Geocoder();

                    // 주소로 좌표를 검색합니다
                    geocoder.addressSearch('제주특별자치도 제주시 첨단로 242', function (result, status) {

                        // 정상적으로 검색이 완료됐으면
                        if (status === kakao.maps.services.Status.OK) {

                            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                            // 결과값으로 받은 위치를 마커로 표시합니다
                            var marker = new kakao.maps.Marker({
                                map: map,
                                position: coords
                            });

                            // 인포윈도우로 장소에 대한 설명을 표시합니다
                            var infowindow = new kakao.maps.InfoWindow({
                                content: '<div style="width:150px;text-align:center;padding:6px 0;">우리회사</div>'
                            });
                            infowindow.open(map, marker);

                            // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
                            map.setCenter(coords);
                        }
                    });
                </script>
            </div>
        </div>
    </div>
</html>